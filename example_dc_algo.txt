images = [img1, img2, ...]

level = 0

while images.length > 1:
    new_images = []

    for i = 0; i < images.length; i+=2:
        if level == 0:
            new_images.append(affine_stitch(images[i], images[i+2]))
        else:
            new_images.append(stitch(images[i], images[i+2]))

    images = new_images
    level += 1